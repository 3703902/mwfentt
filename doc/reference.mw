<?xml version="1.0" encoding="utf-8"?>

<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>MediaWiki FenTT reference</title>
<!--
 *******************************************************************************
 * Mediawiki PHP extension for chess FEN diagrams rendering
 *
 * Copyright (C) 2007-2016  Michael Peeters <https://github.com/xeyownt>
 *
 * This file is part of the FenTT MediaWiki extension
 * <http://www.mediawiki.org/wiki/Extension:FenTT>.
 *
 * The FenTT MediaWiki extension is free software; you can redistribute it
 * and/or modify it under the terms of the GNU General Public License as
 * published by * the Free Software Foundation; either version 2 of the License,
 * or (at your option) any later version.
 *
 * The FenTT MediaWiki extension is distributed in the hope that it will be
 * useful, but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along
 * with this program; if not, write to the Free Software Foundation, Inc.,
 * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 *******************************************************************************
-->
  <?php require("FenTT.php"); ?>
  <link rel="stylesheet" type="text/css" href="FenTT.css" />
  <link rel="stylesheet" type="text/css" href="main.css" />
</head>


<body>

<fentt mode="color"></fentt>

<div id="leftpane">
<h2>Content</h2>
<ul>
<li><a href="reference.html">Reference</a></li>
<li><a href="sample_page.html">Sample page</a></li>
<li><a href="chess_merida_unicode.html">Chess Merida Unicode</a></li>
</ul>
</div> <!-- leftpane -->

<div id="content">

<!-- =========================================================================================================================== -->
<h1>FenTT reference</h1>
<!-- =========================================================================================================================== -->

<p>FenTT is a MediaWiki extension written in PHP that allows the rendering of nice chessboards in <em>HTML</em> at <em>any size or color</em>, by using
  <em>TrueType fonts</em> and <em>without the need of extra images</em>. Chess game diagrams can be rendered in both color or B&amp;W mode, and figurine
  movements or square of interests can be indicated as well. Diagrams rendered in B&amp;W mode can also be copy-pasted into e.g. an office application.
</p>
<p>FenTT is in fact a PHP implementation of <a href="http://mip.noekeon.org/HTMLTTChess/">HTMLTTChess</a>, a javascript program that provides similar
  functionality. Besides being written in a different language, the major difference with HTMLTTChess is that the markup text that produces the chess
  diagrams is generated by the server, and hence the extension works even if the client has disabled javascript support.
</p>

<!-- =========================================================================================================================== -->
<h2><a name="features">Supported features</a></h2>
<!-- =========================================================================================================================== -->

<p>Here a summary of supported features:</p>
<ul>
  <li>Notation:
    <ul>
      <li><a href="reference.html#FEN">Forsyth-Edwards compatible</a> notation.</li>
      <li>Extra symbols for eg. piece movement (<code>.</code> or <code>x</code>).</li>
      <li>Highlighting of squares of interest.</li>
    </ul>
  </li>
  <li>Rendering:
    <ul>
      <li>Truetype font based rendering, using either local or web font.</li>
      <li>Color mode or printer-friendly black&amp;white mode.</li>
      <li>Default mode specification / inline mode specification.</li>
    </ul>
  </li>
  <li>Size:
    <ul>
      <li>Fixed size.</li>
      <li>Variable size (eg. multiple of browser default font size).</li>
    </ul>
  </li>
  <li>Style:
    <ul>
      <li>Stylesheet-based.</li>
      <li>Default style.</li>
      <li>Inline style.</li>
      <li>Class style.</li>
    </ul>
  </li>
  <li>Export:
    <ul>
      <li>Black&amp;white board can be copy-pasted in external applications.</li>
    </ul>
  </li>
</ul>

<!-- =========================================================================================================================== -->
<h2>Downloading the latest version of FenTT</h2>
<!-- =========================================================================================================================== -->

<p>The latest version of FenTT is available on <a href="https://github.com/xeyownt/mwfentt">GitHub</a> or <a href="http://mip.noekeon.org/mwfentt/">here</a>.</p>

<!-- =========================================================================================================================== -->
<h2>Installing FenTT on Mediawiki</h2>
<!-- =========================================================================================================================== -->
<ul>
  <li><a href="https://github.com/xeyownt/mwfentt">Download</a> and place the file(s) in a directory called <em>FenTT/</em> in your 
    wiki <em>extensions/</em> folder. At least the following files must be copied:
    <ul>
      <li><em>chess_merida_unicode.ttf</em></li>
      <li><em>FenTT.css</em></li>
      <li><em>FenTT.php</em></li>
    </ul>
  </li>

  <li>For MediaWiki 1.25+, add the following code at the bottom of your <em>LocalSettings.php</em>:
  <pre>wfLoadExtension( 'FenTT' );</pre>
  </li>
  <li>For MediaWiki 1.24 or earlier, add the following code instead:
  <pre>require_once "$IP/extensions/FenTT/FenTT.php";</pre>
  </li>
  <li>Done - Navigate to <em>Special:Version</em> on your wiki to verify that the extension is successfully installed.</li>
</ul>

<!-- =========================================================================================================================== -->
<h2>Usage &mdash; the <code>&lt;fentt></code> tag</h2>
<!-- =========================================================================================================================== -->

<p>Once the FenTT extension is installed, you can produce chess diagrams using the <code>&lt;fentt&gt;</code> tag. For instance, the wiki text</p>
<pre>&lt;fentt border="a1">rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR&lt;fentt></pre>
<p>would produce the following output:</p>
<fentt border="a1">rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR</fentt>
This chess diagram is rendered by a combination of HTML code and CSS styling, using the
<a href="chess_merida_unicode.html">Chess Merida Unicode</a> as web font.

<p>The syntax of this tag is</p>
<pre>&lt;fentt [border="<var>border-attr-list</var>"] [mode="<var>color-mode</var>"] [cstyle="<var>inline-style</var>"] [cclass="<var>class-style</var>"]>
  <var>position-in-FEN</var>
&lt;/fentt></pre>

<p>Output of the renderer can be customized by specifying attributes to the <code class="kw">&lt;fentt></code> tag.
The possible values for each attribute and their effects are given further on this page.</p>

<!-- =========================================================================================================================== -->
<h3><a name="FEN"><var>position-in-FEN</var> &mdash; the (modified) Forsyth-Edwards Notation</a></h3>
<!-- =========================================================================================================================== -->

<p>To render a specific chessboard position, you simply have to write it in
<a href="http://en.wikipedia.org/wiki/Forsyth-Edwards_Notation">Forsyth-Edwards Notation (FEN)</a> notation, and enclose the result in a
<code class="kw">&lt;fentt></code> tag. FEN is a very simple and
intuitive notation that is very easy to read even prior rendering. Moreover it is supported by almost all
mainstream chess game softwares, and hence it is very easy to import a given game position in FenTT.</p>

<p>In this case however, you must not specify the complete FEN, but only the first part corresponding to the position of pieces on
the board. For instance, the FEN of the starting position is given by</p>

<pre>rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1</pre>

<p>To render such position, you must only enclose the first part of the notation in the <code class="kw">&lt;fentt></code> tag, and
discard the parts corresponding to active color, castling, etc. In this case, we would write in wiki text:</p>

<pre>&lt;fentt>rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR&lt;/fentt></pre>

<p>The position is parsed by the FenTT extension, and the result is given below.</p>

<table class="table1"><tr><td><fentt>rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR</fentt></td></tr></table>

<p>Besides this change,</p>
<ul>
  <li><em>Unoccupied squares</em> &mdash; a dot (<code class="kw">.</code>) can be used to specify an unoccupied square. Replacing all
  figures in the notation by an equivalent amount of dots makes it more easy to read in wiki text. So the above position can be
  equivalently written as
  <code>rnbqkbnr/pppppppp/......../......../......../......../PPPPPPPP/RNBQKBNR</code>
  </li>
  <li><em>White spaces</em> - White spaces, tabs, newlines can be inserted within the notation to improve further the readability
    in wiki text.
  </li>
  <li><em>Extra symbols</em> &mdash; a plus sign (<code class="kw">+</code>) or x character (<code class="kw">x</code>) can be used to
    indicate squares of interest on the chessboard.
  </li>
  <li><em>Highlighting squares</em> &mdash; one or several squares can be enclosed within brackets (<code class="kw">(</code>...
  <code class="kw">)</code>) to have them
  highlighted in a different color.
  </li>
</ul>

<p>So taking all these remarks into account, the following example would be a perfectly valid position for the script to parse, giving as result the board on the right:</p>

<table width="100%">
<tr>
  <td>
<pre>&lt;fentt>
  r n b q k b n r/
  p p p p p p p p/
  . . . . . . . ./
  . . . . . . . ./
  . . . .(+). . ./
  . . . .(.). . ./
  P P P P(P)P P P/
  R N B Q K B N R
&lt;/fentt></pre>
  </td>
  <td>
  <fentt>
    r n b q k b n r/
    p p p p p p p p/
    . . . . . . . ./
    . . . . . . . ./
    . . . .(+). . ./
    . . . .(.). . ./
    P P P P(P)P P P/
    R N B Q K B N R
  </fentt>
  </td>
</tr>
</table>

<p>See the <a href="sample_page.html">sample page</a> for more examples.</p>

<!-- =========================================================================================================================== -->
<h3><var>border-attr-list</var> &mdash; Specifying the border style</h3>
<!-- =========================================================================================================================== -->

<p>The <code class="kw">border</code> attribute allows you to specify the style of the border surrounding the chessboard. The available
options are:</p>

<table class="table2">
<tr>
  <th>solid</th>
  <td><p>(B&amp;W mode) Show a solid border around the chessboard. If not specified, default corner style is round.</p>
  <p>(Color mode) Show a border according to the stylesheet.</p>
  </td>
</tr>
<tr>
  <th>double</th>
  <td><p>(B&amp;W mode) Show a double border around the chessboard. If not specified, default corner style is round.</p>
  <p>(Color mode) Show a border according to the stylesheet.</p>
  </td>
</tr>
<tr>
  <th>round</th>
  <td><p>(B&amp;W mode) Show a border with round corners around the chessboard. If not specified, default border style is solid.</p>
  <p>(Color mode) Show a border according to the stylesheet.</p>
  </td>
</tr>
<tr>
  <th>square</th>
  <td><p>(B&amp;W mode) Show a border with square corners around the chessboard. If not specified, default border style is solid.</p>
  <p>(Color mode) Show a border according to the stylesheet.</p>
  </td>
</tr>
<tr>
  <th><var>origin</var></th>
  <td>Specify the origin of the leftmost bottom square (eg. <code>a1</code>, <code>e5</code>, ...), and also show coordinates
  around the chessboard. In case where the position only shows a section of the complete chessboard, borders and coordinates
  for a given board side are shown only if outer squares for that side are visible in the selected section.
  </td>
</tr>
<tr>
  <th>[n][s][e][o]</th>
  <td>Select which border must be shown. If board origin is specified, it controls visibility of board coordinates,
  but visibility of borders still depends on the visibility of outer squares.
  </td>
</tr>
<tr>
  <th>pad</th>
  <td><p>Use <code class="kw">pad</code> to force renderer to print blanks for sides where coordinates are not shown. This
  way the chessboard is always surrounded by either a blank or a coordinate character, and hence it is easier to control
  alignment of the chessboard.</p>
  </td>
</tr>
</table>

<p>Please see the <a href="sample_page.html">sample page</a> for an illustration of these options.</p>

<!-- =========================================================================================================================== -->
<h3><a name="color_BW"><var>color-mode</var> &mdash; Color / B&amp;W mode</a></h3>
<!-- =========================================================================================================================== -->

<p>The <code class="kw">mode</code> attribute controls whether FenTT generates colored chessboards or black&amp;white
chessboards. See for instance the two examples below:</p>

<table class="table1">
<tr>
  <td><fentt border="double a5" mode="color">k3/2N1/1KN1/4</fentt></td>
  <td><code>&lt;fentt border="double a5" mode="color">k3/2N1/1KN1/4&lt;/fentt></code></td>
</tr>
<tr>
  <td><fentt border="double a5" mode="bw">k3/2N1/1KN1/4</fentt></td>
  <td><code>&lt;fentt border="double a5" mode="bw">k3/2N1/1KN1/4&lt;/fentt></code></td>
</tr>
</table>

<p><var>color-mode</var> can have one of the following values:</p>
<table class="table2">
<tr>
  <th>color</th>
  <td><p>Tell the renderer to use the color mode.</p>
    <p>Colored boards have a better look (although this can be a matter of taste), and have a rendering that is very close to
    the one found on eg. <a href="http://en.wikipedia.org/wiki/Chess">Wikipedia</a> (note however that on Wikipedia, chessboards
    are actually made up of small images). The problem with colored boards however is that the rendering uses more advanced CSS
    layout techniques, and hence is more subject to be badly displayed by uncompliant browsers.</p>
  </td>
</tr>
<tr>
  <th>bw</th>
  <td><p>Tell the renderer to use the black&amp;white mode</p>
    <p>Besides your personal taste, there are 3 main reasons to use black &amp; white rendering:</p>
      <ul>
        <li>Use it when your <em>browser</em> has some difficulty to render the colored version correctly.
        </li>
        <li>Use it if you want to easily <em>copy &amp; paste the rendered output</em> to eg. an external office application
          (you might need to change the font of the pasted text in order for the board to appear correctly).
        </li>
        <li>Use it to generate <em>printer-friendly</em> version of your page.
        </li>
      </ul>
  </td>
</tr>
</table>

<p>There are two ways to specify to FenTT which mode to use when generating chessboards:</p>
<ol>
  <li><p>The first way is by specifying explicitly the mode to use for a given position. For instance, to specify color mode:</p>
<pre>
...
&lt;fentt mode="<var>color</var>">rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR&lt;/fentt>
...
</pre>
  </li>
  <li><p>The second way is when no mode is explicitly specified. In this case the current default mode is used. The default mode
         can be changed as above but with an empty <code class="kw">fentt</code> tag. For instance, to change the current
         default mode to black&amp;white:</p>
<pre>
...
&lt;fentt mode="<var>bw</var>">&lt;/fentt>
...
</pre>
  <p>In this case, the specified color mode will be applied to all subsequent <code class="kw">fentt</code> tags that doesn't
  specify explicitly a color mode, and this until the end of the file, or until it is again changed by another empty
  <code class="kw">fentt</code> tag.</p>
  </li>
</ol>

<!-- =========================================================================================================================== -->
<h3><var>inline-style</var> &mdash; Passing inline style information</h3>
<!-- =========================================================================================================================== -->

<p>Use the <code class="kw">cstyle</code> attribute to pass inline style information to the board table element.</p>

<p>Please see the <a href="sample_page.html">sample page</a> for an illustration of this attribute, or
<a href="reference.html#style">below</a> for further instructions.</p>

<!-- =========================================================================================================================== -->
<h3><var>class-style</var> &mdash; Passing class style information</h3>
<!-- =========================================================================================================================== -->

<p>Use the <code class="kw">cclass</code> attribute to pass class style information to the board table element. You can use this
attribute to define additional custom chessboard styles in the stylesheet to use on the same page.</p>

<p>Please see the <a href="sample_page.html">sample page</a> for an illustration of this attribute, or
<a href="reference.html#style">below</a> for further instructions.</p>

<!-- =========================================================================================================================== -->
<h2><a name="style">Customizing the FenTT style</a></h2>
<!-- =========================================================================================================================== -->

<p>There are basically four ways to customize the style of chessboards generated by FenTT:</p>
<ul>
  <li>Edit the main stylesheet.</li>
  <li>Pass inline style information using the <code class="kw">cstyle</code> attribute.</li>
  <li>Pass class style information using the <code class="kw">cclass</code> attribute.</li>
  <li>Define new styles based on the class of the containing parent.</li>
</ul>

<!-- =========================================================================================================================== -->
<h3>Editing the main stylesheet</h3>
<!-- =========================================================================================================================== -->

<p>The default styles used for color-mode and B&amp;W-mode output are defined in the CSS file
<code>FenTT.css</code>. This file is split in two parts: a base stylesheet and
a custom stylesheet. The base stylesheet contains definition that shouldn't be changed or overridden. Doing so may break the
rendering of chessboards. The custom stylesheet however can be freely edited to for instance change the size of the font, the
color of squares, etc.</p>
<p>You can adapt the definitions of the custom stylesheet either by editing this file directly, or by overriding the definitions
with another external stylesheet or with an internal stylesheet. Each style element that can be changed is clearly commented in the
file.</p>

<!-- =========================================================================================================================== -->
<h3>Specifying inline style</h3>
<!-- =========================================================================================================================== -->

<p>You can specify inline style to be applied to a single chessboard using the <code class="kw">cstyle</code> attribute. Note
however that this method is quite limited since it can only change the styles attached to the root
<code class="kw">&lt;table></code> element of generated chessboards. Without going to far into gory technical details, this means
that you can only change (cfr. CSS file <code>FenTT.css</code>):</p>
<ul>
  <li>The size of the font.</li>
  <li>The background color of the board (b&amp;w mode), or the background color of coordinates (color mode).</li>
  <li>The foreground color of the board (b&amp;w mode), or the foreground color of coordinates (color mode).</li>
</ul>
<p>If you need more flexibility, you must then use the <code class="kw">cclass</code> attribute instead.</p>
<p>See the source code of the <a href="sample_page.html">sample page</a> for an example of this method.</p>

<!-- =========================================================================================================================== -->
<h3>Specifying class style</h3>
<!-- =========================================================================================================================== -->

<p>This method allows you to change all custom styles attached to a group of chessboards, ie. including color of squares and color
of highlighted squares. This is a very convenient method to use different rendering styles in a same Wiki page. For instance, you
can define a style for the starting position of a game you want to study, and define another style for showing intermediate
positions.</p>
<p>To do so, you simply define a new <var>class-style</var> name, and define the styles to apply to chessboards you
have attached this class to through the <code class="kw">cclass</code> attribute. You can define these styles either in an external
stylesheet or in an internal stylesheet. The syntax to follow is identical to the one of the custom stylesheet in the CSS file
<code>FenTT.css</code>. To avoid lengthy explanation though, the best is
that you refer to the complete example in the <a href="sample_page.html">sample page</a>.</p>

<!-- =========================================================================================================================== -->
<h3>Relying on the containing parent class style</h3>
<!-- =========================================================================================================================== -->

<p>This method simply relies on standard features of the cascading style sheet, namely that you can change the style of a child
element based on the class of the containing parent. Have a look on the <a href="sample_page.html">sample page</a> for an
illustration of this method.</p>

<!-- =========================================================================================================================== -->
<h2>Font-based method vs. image-based method</h2>
<!-- =========================================================================================================================== -->

<p>The usual method to render chessboards in Wiki text / HTML is to combine several small images together to form the complete chessboard.
The server stores several small images corresponding to each combination of Black &amp; White figurines on light &amp; dark squares, and
the HTML page simply pick the right image for each square on the board to render a given chess position. See for instance the
<a href="http://en.wikipedia.org/wiki/Chess">Wikipedia</a> page on Chess for an example of this method.</p>
<p>The method followed here by the FenTT extension is quite different. Instead of using fixed-size images, it uses characters
(glyphs) stored in a chess TrueType font. The font contains all necessary glyphs to render either black&amp;white
chessboards or colored chessboards. Black&amp;White chessboards are very similar to those seen in chess books, and colored chessboards
are very close to those rendered on eg. Wikipedia. This method brings several advantages:</p>
<ul>
  <li>Since font glyphs are actually vector-based graphics, chessboards can be rendered <em>at any size without loss of quality.</em>
  </li>
  <li>A same web page can contain chessboards of different sizes, and so web masters can use this feature to <em>improve
      the layout</em> of their pages, adapting the size to each context (start position, intermediate moves...).
  </li>
  <li>Sizes of chessboards are specified by the attached stylesheet. By using the <code>em</code> CSS unit, chessboard size
    <em>automatically adapts</em> to the size of the surrounding text.
  </li>
  <li>Also, visitors may also change the size of chessboards by increasing the <em>default font size</em> in their browser, or by
    defining their own <em>user stylesheet.</em>
  </li>
  <li>It is easy to convert color chessboard in a given HTML page to their black&amp;white equivalent to obtain a <em>high-quality
      printer-friendly</em> version of that page.
  </li>
  <li>Chessboard rendered in black&amp;white can be easily <em>exported to an office-like application</em> through copy&amp;paste.
  </li>
</ul>
<p>There are some minor drawbacks though:</p>
<ul>
  <li>The rendering requires a specific font on the client. If the client does not have that font installed locally, the font is downloaded
      from the server as a web font (via CSS3). This might slightly increase the page rendering time; also the rendering might vary from
      one browser to another.
  </li>
  <li>Color mode is a bit tricky, and uses CSS and tables to layout the chessboards correctly. So some uncompliant browsers may
    render the pages incorrectly. In these cases, black&amp;white mode can be used instead since it is easier to render
    correctly. However large efforts have been done to make the script compatible with available OS/browsers. See the
    <a href="#Compatibility">next section</a> for more information.
  </li>
  <li>The quality of the rendering largely depends on the font rendering engine of your platform. But ClearType (WinXP/Vista) or
    font anti-aliasing (Linux) give excellent results, even at low pixel per em. See the
    <a href="screenshots.html">screenshots</a> page to compare the rendering of your platform to others.
  </li>
</ul>

<!-- =========================================================================================================================== -->
<h2>License</h2>
<!-- =========================================================================================================================== -->

<p>Copyright (C) 2007-2016  <a href="https://github.com/xeyownt">Michaël Peeters</a>.</p>

<p>The FenTT MediaWiki extension comes with ABSOLUTELY NO WARRANTY. This is free software; you can redistribute it and/or modify it under the terms of the GNU
General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p>

<p>See file COPYING for more details.</p>

</div>  <!-- content -->
</body>
</html>

